# オンラインストレージAPI

## 1. Web Storage

- **キーと値の組み合わせ**でブラウザにデータを蓄積し、利用するAPI
  - Cookieと比較すると大容量のデータを扱うことができる
  - ブラウザに蓄積したデータを利用することで、アプリケーションのオフライン利用や通信量削減による**高速化**が期待できる

### Web Storageの種類

- セッションストレージ
  - ウインドウまたはタブが閉じられると共にデータが消失する
- ローカルストレージ
  - ウインドウやタブを閉じてもデータが消えず、次にページを参照した時にもそのデータを利用することができる

## 2. Indexed Database API

- キーと値のペアで**JavaScriptのオブジェクト**を蓄積し、利用するAPI
  - 一般的なリレーショナルデータベースにおける、**インデックス**や**トランザクション(データベースの一連の処理)** を利用することが特徴

## 3. Application cache

- マニフェストファイルという設定ファイルに指定したファイルをローカルの**ブラウザにキャッシュさせる**ことで、**オフラインでのページ閲覧を可能にする**もの
  - キャッシュの制御はAPIを通じて行う
  - アプリケーションキャッシュがダウンロード中であるなどの状態確認や、キャッシュの明示的な更新などが可能
  - イベントとして、キャッシュ済みのイベントも用意されている

## 4. Web Workers

- ブラウザでのスクリプト処理を**バックグラウンド**で実行するためのもの
- Web Workerで独立したスレッドを利用することで、UIの処理などに影響を与えることなく、大量の処理を行うことができる
  - Workerと呼ばれるものを独立したスレッドとして生成し、並列でスクリプトを実行させる
    - JavaScriptは、そのWorkerとメッセージをやりとりすることで、Workerの開始、終了といった制御を行う

## 5. Service Workers

- **Webページとは別に**、バックグラウンドでスクリプトを実行することができる環境
  - Service Workerを利用することで、リソースをキャッシュして**オフライン**でも利用可能にしたり、プッシュ通知やバックグラウンドでの同期など、Webページやユーザの操作を必要としない機能を制御することが可能

## 6. Push API

- アプリケーションが**サーバからのプッシュ通知を受信できるようにする**
  - あくまでプッシュ通知を受信するだけなので、プッシュ通知の表示やメッセージ本体の受信などは別途実施する必要がある

## 7. fetch

- **指定したリソースを取得する**際に使用する
  - **Service Worker上では、fetchを使用する必要**がある
  - XMLHttpRequestの代わりに使うことが可能
